@import "tailwindcss";

@config '../../tailwind.config.ts';

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--gray-200, currentColor);
  }
}

:root {
  --header-height: 56px;

  text-rendering: geometricprecision;
  -webkit-text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

:root:not(html.dark) {
  /* colors */
  color: var(--text-primary);
  background-color: var(--surface-primary);
}

:root:not(html.dark) ::selection {
  background-color: var(--accent-200);
}

:root:not(html.dark) *:focus-visible {
  outline-color: var(--accent-300);
}

:root {
  color: var(--dark-text-primary);
  background-color: var(--dark-surface-primary);
}

:root ::selection {
  background-color: var(--accent-950);
}

:root *:focus-visible {
  outline-color: var(--accent-400);
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Subtle hero aurora background */
.be-hero-aurora {
  /* Muted, natural hues */
  --c1: 150 16% 38%; /* sage */
  --c2: 210 14% 36%; /* slate */
  --c3: 280 13% 42%; /* plum */
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(80rem 40rem at 20% -10%, hsl(var(--c1) / 0.12), transparent 60%),
    radial-gradient(60rem 30rem at 110% 10%, hsl(var(--c2) / 0.10), transparent 60%),
    conic-gradient(from 240deg at 50% 10%, hsl(var(--c3) / 0.12), hsl(var(--c2) / 0.08), hsl(var(--c1) / 0.10));
  filter: blur(24px) saturate(104%);
  -webkit-mask-image: radial-gradient(120% 80% at 50% 0%, #000 55%, transparent 100%);
  mask-image: radial-gradient(120% 80% at 50% 0%, #000 55%, transparent 100%);
  opacity: .55;
}

/* Reusable subtle glass card with depth */
.be-glass-card {
  backdrop-filter: blur(12px) saturate(160%);
  -webkit-backdrop-filter: blur(12px) saturate(160%);
  background: rgba(255, 255, 255, 0.10);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.18);
}

/* CADENCE CARD - READABLE TEXT OVERLAY */
/* SCOPE: .cadence-card class ONLY - DO NOT apply globally */
.cadence-card {
  position: relative;
  overflow: hidden;
}

.cadence-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to right, rgba(0, 0, 0, 0.65) 0%, rgba(0, 0, 0, 0.35) 60%, rgba(0, 0, 0, 0.2) 100%);
  z-index: 1;
  pointer-events: none;
}

.cadence-card-text {
  position: relative;
  z-index: 2;
  color: #FFFFFF;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.7), 0 4px 16px rgba(0, 0, 0, 0.5);
}

.cadence-badge {
  backdrop-filter: blur(12px) saturate(180%);
  background: rgba(180, 220, 50, 0.85);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: #1a1a1a;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

@media (max-width: 768px) {
  .cadence-card::before {
    background: linear-gradient(to right, rgba(0, 0, 0, 0.75) 0%, rgba(0, 0, 0, 0.45) 70%, rgba(0, 0, 0, 0.3) 100%);
  }
}

@media (max-width: 480px) {
  .cadence-card::before {
    background: rgba(0, 0, 0, 0.6);
  }
}

/* Header Aurora Accent */
.be-header-accent {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: var(--be-aurora-op, 0.55);
  transform: translateZ(0);
  --be-c1: 150 16% 38%;
  --be-c2: 210 14% 36%;
  --be-c3: 280 13% 42%;
  --hx: 0;
  --hy: 0;
  background:
    radial-gradient(60rem 24rem at calc(50% + var(--hx)*12rem) calc(0% + var(--hy)*8rem),
      hsl(var(--be-c1) / 0.14), transparent 60%),
    radial-gradient(36rem 18rem at calc(30% - var(--hx)*10rem) calc(20% - var(--hy)*6rem),
      hsl(var(--be-c2) / 0.12), transparent 60%),
    conic-gradient(from 210deg at 50% -20%,
      hsl(var(--be-c3) / 0.14), hsl(var(--be-c2) / 0.08), hsl(var(--be-c1) / 0.10));
  filter: blur(22px) saturate(106%);
  -webkit-mask-image: radial-gradient(70% 120% at 50% 0%, #000 40%, transparent 100%);
  mask-image: radial-gradient(70% 120% at 50% 0%, #000 40%, transparent 100%);
}

.be-header-accent::after {
  content: "";
  position: absolute;
  inset: -2px;
  pointer-events: none;
  opacity: 0.06;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='linear' slope='0.65'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 180px 180px;
}

:root .be-header-accent { --be-aurora-op: 0.45; }
.dark .be-header-accent { --be-aurora-op: 0.35; filter: blur(24px) saturate(108%); }

@media (max-width: 768px) {
  .be-header-accent {
    opacity: var(--be-aurora-op, 0.45);
    filter: blur(20px) saturate(104%);
    background:
      radial-gradient(40rem 18rem at calc(50% + var(--hx)*8rem) calc(0% + var(--hy)*6rem),
        hsl(var(--be-c1) / 0.14), transparent 60%),
      radial-gradient(28rem 14rem at calc(30% - var(--hx)*6rem) calc(18% - var(--hy)*4rem),
        hsl(var(--be-c2) / 0.12), transparent 60%),
      conic-gradient(from 210deg at 50% -20%,
        hsl(var(--be-c3) / 0.14), hsl(var(--be-c2) / 0.08), hsl(var(--be-c1) / 0.10));
  }
}

@media (prefers-reduced-motion: reduce) { .be-header-accent { --hx: 0; --hy: 0; } }

/* Mobile optimizations for better text rendering and touch targets */
@media (max-width: 640px) {
  body {
    font-size: 16px; /* Prevent zoom on iOS */
  }
  
  /* Ensure minimum touch target sizes */
  button, a, input, select, textarea {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Better text spacing on mobile */
  p, li, span {
    line-height: 1.6;
  }
  
  h1, h2, h3, h4, h5, h6 {
    line-height: 1.3;
    word-wrap: break-word;
  }
}

/* Improve clickability and visual feedback */
/* Custom styles for logo background removal and mobile optimization */
.logo-no-bg img {
  /* For light mode, assuming the logo is a PNG with a white background. 
     If the logo is a transparent PNG, this will do nothing. */
  background-color: transparent !important;
}

.dark .logo-no-bg img {
  /* For dark mode, if the logo is a dark logo on a white background, 
     mix-blend-mode: multiply will make the white transparent against a dark background. 
     If the logo is a light logo on a transparent background, this might cause issues, 
     but based on the file names (logo-dark.png, logo-light.png), they are likely 
     color-specific. I will use a more targeted approach for the header/footer 
     containers to ensure the background is transparent. */
  /* If the logo is a dark logo on a white background, this will help. */
  /* mix-blend-mode: multiply; */
}

/* Header and Footer logo containers to ensure no background is applied to the container */
.header-logo-container, .footer-logo-container {
  background-color: transparent !important;
}

/* Mobile layout optimization: Ensure the header and footer logos are appropriately sized and centered on small screens */
@media (max-width: 640px) {
  .header-logo-container {
    /* Adjust size for mobile */
    max-width: 120px; 
    height: auto;
  }
  
  .footer-logo-container {
    /* Adjust size for mobile */
    max-width: 150px;
    height: auto;
    margin: 0 auto; /* Center the logo in the footer on mobile */
  }
  
  /* General mobile layout improvements for visual appeal */
  .container {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
  
  /* Example: Adjusting header height for better mobile experience */
  header {
    height: var(--header-height-mobile, 64px);
  }
  
  /* Ensuring main content has proper padding */
  main {
    padding-top: var(--header-height-mobile, 64px);
  }
}

@media (hover: none) and (pointer: coarse) {
  button:active, a:active {
    opacity: 0.7;
    transition: opacity 0.1s ease;
  }
}
